<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Browser-Use Agent</title>
  <link rel="stylesheet" href="/static/style.css"/>
</head>
<body>
  <div class="container">
    <header>
      <h1>ü§ñ Browser-Use Agent Web Interface</h1>
      <p>AI-powered browser automation using natural language</p>
    </header>
    
    <main>
      <!-- Task Configuration -->
      <section class="card">
        <h2>üìù Configure Task</h2>
        <div class="form-group">
          <label for="task-prompt">Enter your task:</label>
          <textarea 
            id="task-prompt" 
            rows="3" 
            placeholder="Example: Search Amazon for laptops under $1000 and extract the top 5 results with prices and ratings"
          ></textarea>
        </div>
        
        <div class="model-selection">
          <label for="model-select">Select AI Model:</label>
          <select id="model-select">
            <optgroup label="Google Gemini">
              <option value="gemini-pro" selected>Gemini Pro</option>
              <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
              <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
            </optgroup>
            <optgroup label="OpenAI">
              <option value="gpt-4o">GPT-4o</option>
              <option value="gpt-4-turbo">GPT-4 Turbo</option>
              <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
            </optgroup>
          </select>
          <small class="model-hint">Make sure you have the corresponding API key in your .env file</small>
        </div>
        
        <div class="upload-section">
          <div class="upload-group">
            <label>üìÑ Upload Document (optional):</label>
            <input type="file" id="file-input" accept=".pdf,.txt,.csv"/>
          </div>
          
          <div class="upload-group">
            <label>üñºÔ∏è Upload Image (optional):</label>
            <input type="file" id="image-input" accept="image/*"/>
            <img id="image-preview" src="" alt="Preview" style="display:none"/>
          </div>
        </div>
        
        <div class="controls">
          <button id="start-btn" class="btn-primary">‚ñ∂Ô∏è Start</button>
          <button id="pause-btn" class="btn-warning" disabled>‚è∏Ô∏è Pause</button>
          <button id="continue-btn" class="btn-success" disabled>‚ñ∂Ô∏è Continue</button>
          <button id="stop-btn" class="btn-danger" disabled>‚èπÔ∏è Stop</button>
        </div>
      </section>

      <!-- Agent Activity -->
      <section class="card">
        <h2>üåê Agent Activity</h2>
        <div class="activity-container">
          <div class="screenshot-container">
            <img id="browser-screenshot" src="" alt="Browser view will appear here"/>
          </div>
          <div class="log-container">
            <h3>Activity Log</h3>
            <div id="progress-log"></div>
          </div>
        </div>
      </section>

      <!-- Results -->
      <section class="card">
        <h2>üìä Results</h2>
        <div class="results-container">
          <table id="results-table">
            <thead>
              <tr>
                <th>Item</th>
                <th>Description</th>
                <th>Price/Value</th>
                <th>Link</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="export-buttons">
            <button onclick="exportCSV()" class="btn-export">üì• Export CSV</button>
            <button onclick="exportJSON()" class="btn-export">üì• Export JSON</button>
          </div>
        </div>
      </section>
    </main>
    
    <footer>
      <p>Powered by Browser-Use & OpenAI</p>
    </footer>
  </div>
  
  <script src="/static/app.js"></script>
</body>
</html>